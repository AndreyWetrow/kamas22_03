{"version":3,"file":"static/js/830.e74f2ba9.chunk.js","mappings":"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","sources":["webpack://kamas22_03/./src/components/Profile/ProfileInfo/ProfileInfo.module.css?ead2","components/Profile/ProfileInfo/ProfileStatus.js","components/Profile/ProfileInfo/ProfileStatusWithHooks.js","components/Profile/ProfileInfo/ProfileInfo.js","webpack://kamas22_03/./src/components/Profile/MyPosts/Post/Post.module.css?87e6","components/Profile/MyPosts/Post/Post.js","webpack://kamas22_03/./src/components/Profile/MyPosts/MyPosts.module.css?831b","components/Profile/MyPosts/MyPosts.js","components/Profile/MyPosts/MyPostsContainer.js","components/Profile/Profile.js","components/Profile/ProfileContainer.js","hoc/GetURLParams/GetURLParams.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"img\":\"ProfileInfo_img__synvi\",\"descriptionBlock\":\"ProfileInfo_descriptionBlock__4mpxl\"};","import React from \"react\";\n\nclass ProfileStatus extends React.Component {\n  state = {\n    editMode: false,\n    status: this.props.status,\n  };\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if (prevProps.status !== this.props.status) {\n      this.setState({ status: this.props.status });\n    }\n  }\n\n  activateEditMode = () => {\n    this.setState({ editMode: true });\n  };\n  deActivateEditMode = () => {\n    let userId = this.props.userId;\n    this.setState({ editMode: false });\n    if (!userId) {\n      userId = 2;\n    }\n    this.props.updateStatus(userId, this.state.status);\n  };\n  onStatusChange = (e) => {\n    this.setState({ status: e.currentTarget.value });\n  };\n\n  render() {\n    return (\n      <>\n        <div>\n          <div>\n            {!this.state.editMode && (\n              <span onDoubleClick={this.activateEditMode}>\n                {this.props.status || \"---\"}\n              </span>\n            )}\n          </div>\n          <div>\n            {this.state.editMode && (\n              <input\n                autoFocus\n                onBlur={this.deActivateEditMode}\n                type=\"text\"\n                onChange={this.onStatusChange}\n                value={this.state.status}\n              />\n            )}\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default ProfileStatus;\n","import React, { useEffect, useState } from \"react\";\n\nconst ProfileStatusWithHooks = (props) => {\n  let [editMode, setEditMode] = useState(false);\n  let [status, setStatus] = useState(props.status);\n\n  useEffect(() => {\n    setStatus(props.status);\n  }, [props.status]);\n\n  const activateMode = () => {\n    setEditMode(true);\n  };\n  const deActivateEditMode = () => {\n    let userId = props.userId;\n    setEditMode(false);\n\n    if (!userId) {\n      userId = 2;\n    }\n    props.updateStatus(userId, status);\n  };\n\n  const onStatusChange = (e) => {\n    setStatus(e.currentTarget.value);\n  };\n\n  return (\n    <>\n      <div>\n        {!editMode && (\n          <span onDoubleClick={activateMode}>{props.status || \"---\"}</span>\n        )}\n      </div>\n      <div>\n        {editMode && (\n          <input\n            autoFocus\n            onBlur={deActivateEditMode}\n            type=\"text\"\n            onChange={onStatusChange}\n            value={status}\n          />\n        )}\n      </div>\n    </>\n  );\n};\n\nexport default ProfileStatusWithHooks;\n","import React from \"react\";\nimport classes from \"./ProfileInfo.module.css\";\nimport Preloader from \"../../common/Preloader/Preloader\";\nimport ProfileStatus from \"./ProfileStatus\";\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\n\nconst ProfileInfo = (props) => {\n  if (!props.profile) {\n    return <Preloader />;\n  }\n\n  return (\n    <>\n      {/*<div>*/}\n      {/*  <img*/}\n      {/*    className={classes.img}*/}\n      {/*    src=\"https://klike.net/uploads/posts/2019-06/1560231206_1.jpg\"*/}\n      {/*    alt=\"\"*/}\n      {/*  />*/}\n      {/*</div>*/}\n      <ProfileStatusWithHooks\n        status={props.status}\n        updateStatus={props.updateStatus}\n        userId={props.userId}\n      />\n      <div className={classes.descriptionBlock}>\n        <img src={props.profile.photo.littlePhoto} alt=\"\" />\n        <div>Name: {props.profile.name}</div>\n        <div>Username: {props.profile.username}</div>\n        <div>Email: {props.profile.email}</div>\n        <div>Phone: {props.profile.phone}</div>\n      </div>\n    </>\n  );\n\n  // return (\n  //   <>\n  //     <div>\n  //       <img\n  //         className={classes.img}\n  //         src=\"https://klike.net/uploads/posts/2019-06/1560231206_1.jpg\"\n  //         alt=\"\"\n  //       />\n  //     </div>\n  //     <div className={classes.descriptionBlock}>\n  //       <img src={props.profile.photo.littlePhoto} alt=\"\" />\n  //       <div>Name: {props.profile.name}</div>\n  //       <div>Username: {props.profile.username}</div>\n  //       <div>Email: {props.profile.email}</div>\n  //       <div>Phone: {props.profile.phone}</div>\n  //     </div>\n  //     <Outlet />\n  //   </>\n  // );\n};\n\nexport default ProfileInfo;\n","// extracted by mini-css-extract-plugin\nexport default {\"img\":\"Post_img__eWFra\",\"item\":\"Post_item__Ys2A9\"};","import React from \"react\";\nimport classes from \"./Post.module.css\";\n\nconst Post = (props) => {\n  return (\n    <div className={classes.item}>\n      <img\n        className={classes.img}\n        src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRhZqwyyu2I2HJzVw3TZLkYWisRZC1owerwig&usqp=CAU\"\n        alt=\"\"\n      />\n      {props.message}\n      <div>\n        <span>{props.likeCounts}</span>\n      </div>\n    </div>\n  );\n};\n\nexport default Post;\n","// extracted by mini-css-extract-plugin\nexport default {\"postsBlock\":\"MyPosts_postsBlock__mvFzo\",\"posts\":\"MyPosts_posts__Uc1AM\"};","import React from \"react\";\nimport { Field, Form } from \"react-final-form\";\nimport Post from \"./Post/Post\";\nimport classes from \"./MyPosts.module.css\";\nimport {\n  composeValidators,\n  maxLength,\n  minLength,\n  required,\n} from \"../../../utils/validators/validators\";\nimport { Textarea } from \"../../common/FormsControls/FormControls\";\n\nconst MyPosts = React.memo((props) => {\n  console.log(\"RENDER\");\n  const postsElements = props.posts.map((post) => {\n    return (\n      <Post key={post.id} message={post.message} likeCounts={post.likeCounts} />\n    );\n  });\n\n  const onAddPost = (values) => {\n    props.addPost(values.newPostText);\n  };\n\n  return (\n    <div className={classes.postsBlock}>\n      <h3>My posts</h3>\n\n      <Form\n        onSubmit={onAddPost}\n        render={({ handleSubmit }) => (\n          <form onSubmit={handleSubmit}>\n            <div>\n              <Field\n                name=\"newPostText\"\n                validate={composeValidators(\n                  required,\n                  maxLength(10),\n                  minLength(5)\n                )}\n              >\n                {({ input, meta }) => (\n                  <Textarea\n                    input={input}\n                    meta={meta}\n                    placeholder=\"Введите сообщение \"\n                  />\n                )}\n              </Field>\n            </div>\n            <div>\n              <button>Add post</button>\n            </div>\n          </form>\n        )}\n      />\n\n      <div className={classes.posts}>{postsElements}</div>\n    </div>\n  );\n});\n\nexport default MyPosts;\n","import { addPostActionCreator } from \"../../../redux/profile-reducer\";\nimport MyPosts from \"./MyPosts\";\nimport { connect } from \"react-redux\";\n\nconst mapStateToProps = (state) => {\n  return {\n    posts: state.profilePage.posts,\n    newPostText: state.profilePage.newPostText,\n  };\n};\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    addPost: (newPostText) => {\n      dispatch(addPostActionCreator(newPostText));\n    },\n  };\n};\n\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\n\nexport default MyPostsContainer;\n","import React from \"react\";\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\n\nconst Profile = (props) => {\n  return (\n    <div>\n      <ProfileInfo\n        profile={props.profile}\n        status={props.status}\n        updateStatus={props.updateStatus}\n        userId={props.userId}\n      />\n      <MyPostsContainer />\n    </div>\n  );\n};\n\nexport default Profile;\n","import React from \"react\";\nimport Profile from \"./Profile\";\nimport { connect } from \"react-redux\";\nimport {\n  getStatus,\n  getUserProfile,\n  updateStatus,\n} from \"../../redux/profile-reducer\";\nimport { getURLParams } from \"../../hoc/GetURLParams/GetURLParams\";\nimport { compose } from \"redux\";\nimport { withAuthRedirect } from \"../../hoc/WithAuthRedirect\";\n\nclass ProfileContainer extends React.Component {\n  constructor(props) {\n    super(props);\n    this.userId = \"\";\n  }\n  componentDidMount() {\n    let userId = this.props.URLId.userId;\n\n    if (!userId) {\n      userId = this.props.fakeUserId;\n      // userId = 2;\n    }\n\n    this.props.getUserProfile(userId);\n    this.props.getStatus(userId);\n\n    // let data = {};\n    // let photo = \"\";\n    //\n    // userAPI.getUser(userId).then((res) => {\n    //   data = res;\n    //   userAPI.getPhoto(userId).then((res) => {\n    //     const bigPhoto = res.url;\n    //     const littlePhoto = res.thumbnailUrl;\n    //     this.props.setUserProfile({\n    //       ...data,\n    //       photo: { ...photo, bigPhoto, littlePhoto },\n    //     });\n    //   });\n    // });\n  }\n\n  onSubmit = (values) => {\n    console.log(values);\n  };\n\n  render() {\n      return (\n      <div>\n        <Profile\n          {...this.props}\n          status={this.props.status}\n          updateStatus={this.props.updateStatus}\n          userId={this.props.URLId.userId}\n        />\n      </div>\n    );\n  }\n}\nconst mapStateToProps = (state) => {\n  return {\n    profile: state.profilePage.profile,\n    status: state.profilePage.status,\n    authorizedUserId: state.auth.userId,\n    fakeUserId: state.auth.fakeUserId,\n    isAuth: state.auth.isAuth,\n  };\n};\n\nexport default compose(\n  connect(mapStateToProps, {\n    getUserProfile,\n    getStatus,\n    updateStatus,\n  }),\n  getURLParams\n  // withAuthRedirect\n)(ProfileContainer);\n","import { useNavigate, useParams } from \"react-router-dom\";\n\nexport function getURLParams(Component) {\n  return (props) => <Component {...props} URLId={useParams()} />;\n}\n"],"names":["React","props","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","autoFocus","onBlur","userId","updateStatus","type","onChange","e","currentTarget","value","profile","className","classes","src","photo","littlePhoto","alt","name","username","email","phone","Preloader","message","likeCounts","console","log","postsElements","posts","map","post","id","onSubmit","values","addPost","newPostText","render","handleSubmit","validate","composeValidators","required","maxLength","minLength","input","meta","placeholder","connect","state","profilePage","dispatch","addPostActionCreator","MyPosts","ProfileContainer","this","URLId","fakeUserId","getUserProfile","getStatus","compose","authorizedUserId","auth","isAuth","Component","useParams"],"sourceRoot":""}